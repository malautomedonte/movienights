<div class="movie-card card">
  <div class="recto">
    <div class="poster">
      <% if movie['poster_path'] %>
        <%= image_tag "https://image.tmdb.org/t/p/w500/#{movie['poster_path']}", alt: movie['title'] %>
      <% else %>
        <%= image_tag asset_path('placeholder-image.png'), alt: "No image available" %>
      <% end %>
    </div>
    <div class="text">
      <div class="truncate-2-lines">
        <h4><%= movie['title'] %></h4>
      </div>
      <% if movie['directors'].present? %>
        <% movie['directors'].each do |director| %>
          <span><%= director %></span>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="verso overlay">
    <div class="flex flex-col space-between h-100">
      <div class="p-t-16">
        <% if movie['cast'].present? %>
          <div class="caracteristics flex space-between p-y-4 p-x-16">
            <span class="white"><strong>Cast</strong></span>
            <ul class="m-0">
              <% movie['cast'].each do |actor| %>
                <li class="white"><%= actor %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="caracteristics flex space-between p-y-4 p-x-16">
          <span class="white"><strong>Genre</strong></span>
          <ul class="m-0">
            <span class="white">
              <% if movie['genre_ids'] %>
                <% genres = {28 => "Action", 12 => "Adventure", 16 => "Animation", 35 => "Comedy", 80 => "Crime", 99 => "Documentary", 18 => "Drama", 10751 => "Family", 14 => "Fantasy", 36 => "History", 27 => "Horror", 10402 => "Music", 9648 => "Mystery", 10749 => "Romance", 878 => "Science Fiction", 10770 => "TV Movie", 53 => "Thriller", 10752 => "War", 37 => "Western"} %>
                <% movie['genre_ids'].each do |genre_id| %>
                  <%= genres[genre_id] %>
                <% end %>
              <% end %>
            </span>
          </ul>
        </div>

        <div class="caracteristics flex space-between p-y-4 p-x-16">
          <span class="white"><strong>Year release</strong></span>
          <p class="white"><%= movie['release_date'] ? movie['release_date'].split('-').first : 'N/A' %></p>
        </div>
      </div>
      <div class="p-b-16 p-x-16">
        <%# Watch trailer and About the movie links will need to be adapted as they currently point to your local movie_path %>
        <%= link_to "Watch trailer", "#", class: "btn btn-regular btn-secondary btn-size-xs w-100" %>
        <%= link_to "About the movie", "#", class: "btn btn-regular btn-primary btn-size-xs m-t-16 w-100" %>
      </div>
    </div>
  </div>
</div>
